{% extends '__base.html' %}

{% load static %}
{% load thumbnail %}

{% block title %}Profiles Directory{% endblock %}

{% block content %}

<h1>Profiles</h1>
<div id="grid">
  <div id="grid-content">
    {% if users %}
      {% for user in users %}
        <div class="item">
          <a href="{{ user.profile.get_absolute_url }}">
            <div class="item-thumbnail">
              {% if user.profile.profile_picture %}
                {% thumbnail user.profile.profile_picture "150x150" crop="center" as im %}
                  <img src="{{ im.url }}" height="{{ im.height }}" width="{{ im.width }}"/>
                {% endthumbnail %}
              {% else %}
                  <img src="{% static "images/default_profile_pic.svg" %}" alt="profile pic" height="150" width="150"/>
              {% endif %}
            </div>
          </a>
          <a href="{{ user.profile.get_absolute_url }}">
            <p>{{ user.username }}</p>
          </a>
        </div>
      {% endfor %}
    {% else %}
      <p>There are no profiles to display.</p>
    {% endif %}
  </div>
</div>

{% include "images/_pagination.html" with items=users %}

{% endblock %}
